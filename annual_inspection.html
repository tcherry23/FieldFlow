<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Annual Inspection - FieldFlow</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    select, input, button, label {
      display: block;
      margin: 10px auto;
      font-size: 16px;
    }
    .well-section {
      background: #fff;
      padding: 15px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .leak-options {
      display: none;
      text-align: center;
    }
    .form-group {
      margin: 10px 0;
      text-align: center;
    }
    .home-button {
      margin-top: 20px;
      display: block;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Annual Inspection</h1>

  <label for="field">Select Field:</label>
  <select id="field" onchange="loadWells()">
    <option value="">--Select Field--</option>
    <option value="Dixon">Dixon</option>
    <option value="Simpson Chapel">Simpson Chapel</option>
    <option value="Mineral City">Mineral City</option>
  </select>

  <div id="wellsContainer"></div>

  <div style="text-align:center">
    <button onclick="submitForm()">Submit Inspection</button>
  </div>

  <div class="home-button">
    <a href="index.html">‚Üê Back to Home</a>
  </div>

  <script>
    const fieldWells = {
      "Dixon": ["Evans 10", "Evans 5", "Evan 4-H", "Cory 8", "Cory 4", "Cory 2", "Cory 7", "Cory 3", "Cory 6", "Cory 5", "Cory 1"],
      "Simpson Chapel": ["Blaker 1", "Emery 2", "Emery 1", "Crays 8", "Crays 5", "Crays 4", "Crays 3", "Crays 7", "Crays 2", "Crays 6", "Royal 6", "Royal 5", "Royal 4", "Royal 7", "Royal 1"],
      "Mineral City": ["Haines 1", "Haines 2", "Haines 3", "Haines 4", "G. Axe 1", "G. Axe 2", "G. Axe 3", "G. Axe 4", "G. Axe 5", "G. Axe 6", "J. Axe 1", "Rollison 1", "Rollison 2", "Rollison 3", "Rollison 4", "Headley 1"]
    };

    function loadWells() {
      const field = document.getElementById("field").value;
      const container = document.getElementById("wellsContainer");
      container.innerHTML = "";
      if (field && fieldWells[field]) {
        fieldWells[field].forEach(well => {
          const section = document.createElement("div");
          section.className = "well-section";
          section.innerHTML = `
            <h2>${well}</h2>

            <div class="form-group">
              <label>Valve Check:</label>
              <select class="valve" name="${well}-valve">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>

            <div class="form-group">
              <label>Leak Detected:</label>
              <select class="leak" name="${well}-leak" onchange="toggleLeakOptions(this)">
                <option value="No">No</option>
                <option value="Yes">Yes</option>
              </select>
            </div>

            <div class="form-group leak-options">
              <label>Leak Location:</label>
              <select class="leak-detail" name="${well}-leak-detail">
                <option value="Internal">Internal</option>
                <option value="External">External</option>
                <option value="Both">Both</option>
              </select>
            </div>
          `;
          container.appendChild(section);
        });
      }
    }

    function toggleLeakOptions(selectElement) {
      const leakOptions = selectElement.parentElement.nextElementSibling;
      if (selectElement.value === "Yes") {
        leakOptions.style.display = "block";
      } else {
        leakOptions.style.display = "none";
      }
    }

    function submitForm() {
      const field = document.getElementById("field").value;
      const sections = document.querySelectorAll(".well-section");
      const results = [];

      sections.forEach(section => {
        const wellName = section.querySelector("h2").innerText;
        const valve = section.querySelector(".valve").value;
        const leak = section.querySelector(".leak").value;
        const leakDetailDropdown = section.querySelector(".leak-detail");
        const leakDetail = leak === "Yes" ? leakDetailDropdown.value : "None";

        results.push({
          field,
          well: wellName,
          valveCheck: valve,
          leakDetected: leak,
          leakLocation: leakDetail
        });
      });

      console.log("Inspection Results:", results);
      alert("Annual Inspection Submitted!");
    }
  </script>
</body>
</html>
