<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daily Pressure Log</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .well-container {
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .status {
            font-weight: bold;
        }
        .status.green {
            color: green;
        }
        .status.yellow {
            color: orange;
        }
        .status.red {
            color: red;
        }
    </style>
</head>
<body>
    <h2>Daily Pressure Log</h2>
    <label for="attendant">Attendant:</label>
    <select id="attendant">
        <option value="T. Cherry">T. Cherry</option>
        <option value="T. Ressler">T. Ressler</option>
    </select>
    <br><br>
    <label for="dailyTarget">Daily MCF Target:</label>
    <input type="number" id="dailyTarget" placeholder="Enter target">
    <p><strong>Total MCF:</strong> <span id="totalMCF">0</span></p>

    <div id="wellsContainer"></div>

    <script>
        const wells = [
            { name: "Rollison 4", orifice: 0.75 },
            { name: "Rollison 1", orifice: 0.75 },
            { name: "Rollison 2", orifice: 0.75 },
            { name: "G. Axe 6", orifice: 1.00 },
            { name: "Haines 4", orifice: 0.375 },
            { name: "Haines 1", orifice: 1.00 },
            { name: "Haines 2", orifice: 1.00 },
            { name: "Haines 3", orifice: 1.00 },
            { name: "G. Axe 1", orifice: 1.00 },
            { name: "Allen 1", orifice: 1.00 },
            { name: "G. Axe 2", orifice: 0.75 },
            { name: "G. Axe 4", orifice: 0.75 },
            { name: "G. Axe 5", orifice: 1.00 },
            { name: "G. Axe 3", orifice: 0.50 },
            { name: "J. Axe 1", orifice: 1.00 }
        ];

        const container = document.getElementById("wellsContainer");

        wells.forEach((well, index) => {
            const div = document.createElement("div");
            div.className = "well-container";
            div.innerHTML = `
                <h3>${well.name}</h3>
                <label>Date: <input type="text" class="date" value="${new Date().toLocaleDateString()}"></label><br>
                <label>Orifice Size: <input type="number" class="orifice" value="${well.orifice}" step="0.0001" readonly></label><br>
                <label>Upstream PSI: <input type="number" class="upstream" placeholder="Enter PSI"></label><br>
                <label>Downstream PSI: <input type="number" class="downstream" placeholder="Enter PSI"></label><br>
                <label>Differential (Up - Down): <input type="number" class="diff" readonly></label><br>
                <label>d/p Hâ‚‚O: <input type="number" class="dpH2O" readonly></label><br>
                <label>MCF/Hour: <input type="number" class="mcfHour" readonly></label><br>
                <p class="status" id="status-${index}">Status: -</p>
                <label>Notes: <textarea class="notes"></textarea></label>
            `;
            container.appendChild(div);
        });

        function updateAll() {
            let totalMCF = 0;
            const dailyTarget = parseFloat(document.getElementById("dailyTarget").value) || 0;

            document.querySelectorAll(".well-container").forEach((div, index) => {
                const up = parseFloat(div.querySelector(".upstream").value);
                const down = parseFloat(div.querySelector(".downstream").value);
                const orifice = parseFloat(div.querySelector(".orifice").value);

                const diffField = div.querySelector(".diff");
                const dpH2OField = div.querySelector(".dpH2O");
                const mcfField = div.querySelector(".mcfHour");
                const statusEl = document.getElementById(`status-${index}`);

                if (!isNaN(up) && !isNaN(down) && !isNaN(orifice)) {
                    const diff = up - down;
                    const dpH2O = diff * 27.7;
                    const mcf = 0.2628 * (orifice * orifice) * Math.sqrt(up * dpH2O);

                    diffField.value = diff.toFixed(2);
                    dpH2OField.value = dpH2O.toFixed(2);
                    mcfField.value = mcf.toFixed(2);

                    totalMCF += mcf;

                    if (!dailyTarget) {
                        statusEl.textContent = "Status: No Target Set";
                        statusEl.className = "status";
                    } else {
                        const mcfPercent = (mcf / dailyTarget) * 100;
                        if (mcfPercent >= 90) {
                            statusEl.textContent = "On Target";
                            statusEl.className = "status green";
                        } else if (mcfPercent >= 60) {
                            statusEl.textContent = "Below Target";
                            statusEl.className = "status yellow";
                        } else {
                            statusEl.textContent = "Too Low";
                            statusEl.className = "status red";
                        }
                    }
                } else {
                    diffField.value = "";
                    dpH2OField.value = "";
                    mcfField.value = "";
                    statusEl.textContent = "Status: -";
                    statusEl.className = "status";
                }
            });

            document.getElementById("totalMCF").textContent = totalMCF.toFixed(2);
        }

        document.addEventListener("input", updateAll);
    </script>
</body>
</html>
