<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daily Pressure Log</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f2f2f2;
    }
    h1 {
      text-align: center;
    }
    .field-select {
      margin-bottom: 20px;
    }
    .well-entry {
      background-color: #fff;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .well-entry h3 {
      margin-top: 0;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input, select, textarea {
      width: 100%;
      padding: 5px;
      margin-top: 3px;
    }
    .section-divider {
      margin: 40px 0 20px;
      font-weight: bold;
      border-bottom: 2px solid #444;
      padding-bottom: 5px;
    }
    .status {
      margin-top: 10px;
      font-weight: bold;
    }
    .green { color: green; }
    .yellow { color: orange; }
    .red { color: red; }
    .total-mcf {
      font-size: 18px;
      font-weight: bold;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>Daily Pressure Log</h1>

  <div class="field-select">
    <label for="field">Select Field:</label>
    <select id="field" onchange="renderWells()">
      <option value="">-- Choose a Field --</option>
      <option value="Dixon">Dixon</option>
      <option value="Simpson Chapel">Simpson Chapel</option>
      <option value="Mineral City">Mineral City</option>
    </select>
  </div>

  <div class="field-select">
    <label for="attendant">Attendant:</label>
    <select id="attendant">
      <option value="T. Cherry">T. Cherry</option>
      <option value="T. Ressler">T. Ressler</option>
    </select>
  </div>

  <div class="total-mcf" id="totalMCF">Total MCF/hour: 0</div>

  <div id="wellsContainer"></div>

  <script>
    const orificeSizes = {
      "Dixon": {
        "Evans 7": 1.0000,
        "Evans 8": 1.0000,
        "Evans 3": 1.0000,
        "Evans 10": 1.0000,
        "Evans 5": 1.2500,
        "Evans 4-H": 1.0000,
        "Evans 6": 1.0000,
        "Cory 8": 1.0000,
        "Cory 4": 1.0000,
        "Cory 2": 1.0000,
        "Cory 7": 1.0000,
        "Cory 3": 1.0000,
        "Cory 6": 1.0000,
        "Cory 5": 1.0000,
        "Cory 1": 1.0000
      },
      "Simpson Chapel": {
        "Blaker 1": 0.5000,
        "Emery 2": 0.7500,
        "Emery 1": 0.7500,
        "Crays 8": 1.0000,
        "Crays 1": 0.5000,
        "Crays 5": 0.7500,
        "Crays 4": 0.2500,
        "Crays 3": 0.7500,
        "Crays 7": 1.0000,
        "Crays 2": 1.0000,
        "Crays 6": 1.0000,
        "Royal 6": 0.6250,
        "Royal 5": 0.5000,
        "Royal 4": 0.5000,
        "Royal 7": 1.0000,
        "Royal 1": 0.5000
      },
      "Mineral City": {
        "Rollison 4": 0.7500,
        "Rollison 1": 0.7500,
        "Rollison 2": 0.7500,
        "G. Axe 6": 1.0000,
        "Haines 4": 0.3750,
        "Haines 1": 1.0000,
        "Haines 2": 1.0000,
        "Haines 3": 1.0000,
        "G. Axe 1": 1.0000,
        "Allen 1": 1.0000,
        "G. Axe 2": 0.7500,
        "G. Axe 4": 0.7500,
        "G. Axe 5": 1.0000,
        "G. Axe 3": 0.5000,
        "J. Axe 1": 1.0000
      }
    };

    const wellOrder = {
      "Dixon": ["Evans 7", "Evans 8", "Evans 3", "Evans 10", "Evans 5", "Evans 4-H", "Evans 6", "Cory 8", "Cory 4", "Cory 2", "Cory 7", "Cory 3", "Cory 6", "Cory 5", "Cory 1"],
      "Simpson Chapel": ["Blaker 1", "Emery 2", "Emery 1", "Crays 8", "Crays 1", "Crays 5", "Crays 4", "Crays 3", "Crays 7", "Crays 2", "Crays 6", "Royal 6", "Royal 5", "Royal 4", "Royal 7", "Royal 1"],
      "Mineral City": ["Rollison 4", "Rollison 1", "Rollison 2", "G. Axe 6", "Haines 4", "Haines 1", "Haines 2", "Haines 3", "G. Axe 1", "Allen 1", "G. Axe 2", "G. Axe 4", "G. Axe 5", "G. Axe 3", "J. Axe 1"]
    };

    function renderWells() {
      const field = document.getElementById('field').value;
      const container = document.getElementById('wellsContainer');
      container.innerHTML = '';

      if (!field) return;

      let totalMCF = 0;

      wellOrder[field].forEach(well => {
        const orifice = orificeSizes[field][well];
        const div = document.createElement('div');
        div.className = 'well-entry';

        const today = new Date().toISOString().split('T')[0];

        div.innerHTML = `
          <h3>${well}</h3>
          <label>Date:</label>
          <input type="date" value="${today}" readonly />

          <label>Upstream PSI:</label>
          <input type="number" id="${well}-up" oninput="calculate('${field}', '${well}')" />

          <label>Downstream PSI:</label>
          <input type="number" id="${well}-down" oninput="calculate('${field}', '${well}')" />

          <label>Differential (PSI):</label>
          <input type="number" id="${well}-diff" readonly />

          <label>d/p H2O:</label>
          <input type="number" id="${well}-dph2o" readonly />

          <label>MCF/hour:</label>
          <input type="number" id="${well}-mcf" readonly />

          <label>Notes:</label>
          <textarea placeholder="Add any notes here..."></textarea>
        `;

        container.appendChild(div);
      });
    }

    function calculate(field, well) {
      const up = parseFloat(document.getElementById(`${well}-up`).value) || 0;
      const down = parseFloat(document.getElementById(`${well}-down`).value) || 0;
      const orifice = orificeSizes[field][well];

      const diff = up - down;
      const dph2o = diff * 27.7;
      const fieldPressure = up;

      const mcf = 0.2628 * Math.pow(orifice, 2) * Math.sqrt(fieldPressure * dph2o);

      document.getElementById(`${well}-diff`).value = diff.toFixed(2);
      document.getElementById(`${well}-dph2o`).value = dph2o.toFixed(2);
      document.getElementById(`${well}-mcf`).value = isNaN(mcf) ? '' : mcf.toFixed(2);

      updateTotalMCF();
    }

    function updateTotalMCF() {
      const field = document.getElementById('field').value;
      let total = 0;
      if (!field) return;

      wellOrder[field].forEach(well => {
        const mcf = parseFloat(document.getElementById(`${well}-mcf`)?.value) || 0;
        total += mcf;
      });

      document.getElementById('totalMCF').textContent = `Total MCF/hour: ${total.toFixed(2)}`;
    }
  </script>
</body>
</html>
